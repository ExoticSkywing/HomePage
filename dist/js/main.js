function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var n;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(n="Object"===(n={}.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey(i.key),i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}var GalaxyAnimation=(()=>_createClass(function t(e){_classCallCheck(this,t),this.canvas=e,this.scene=null,this.camera=null,this.renderer=null,this.controls=null,this.points=null,this.clock=null,this.gu={time:{value:0}},this.animationFrame=null,this.isInitialized=!1},[{key:"init",value:function(){if(!this.isInitialized)try{this.setupScene(THREE,THREE.OrbitControls||OrbitControls),this.setupEventListeners(),this.animate(),this.isInitialized=!0}catch(t){console.error("Failed to load Three.js:",t)}}},{key:"setupScene",value:function(t,e){this.scene=new t.Scene,this.scene.background=new t.Color(1441814),this.camera=new t.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1,1e3),this.camera.position.set(0,4,21),this.renderer=new t.WebGLRenderer({canvas:this.canvas,antialias:!0}),this.renderer.setSize(this.canvas.clientWidth||window.innerWidth,this.canvas.clientHeight||window.innerHeight),this.controls=new e(this.camera,this.renderer.domElement),this.controls.enableDamping=!0,this.controls.enablePan=!1,this.clock=new t.Clock,this.createGalaxy(t)}},{key:"createGalaxy",value:function(r){for(var e=this,o=[],t=[],s=function(){t.push(Math.random()*Math.PI,Math.random()*Math.PI*2,(.9*Math.random()+.1)*Math.PI*.1,.9*Math.random()+.1)},n=new Array(5e4).fill().map(function(t){return o.push(1.5*Math.random()+.5),s(),e=Math.random(),n=Math.random(),e=2*Math.PI*e,n=Math.acos(2*n-1),i=Math.sin(n)*Math.cos(e),a=Math.cos(n),n=Math.sin(n)*Math.sin(e),new r.Vector3(i,a,n).multiplyScalar(.5*Math.random()+9.5);var e,n,i,a}),i=0;i<1e5;i++){var a=Math.pow(Math.random(),1.5),a=Math.sqrt(1600*a+10*(1-a)*10);n.push((new r.Vector3).setFromCylindricalCoords(a,2*Math.random()*Math.PI,2*(Math.random()-.5))),o.push(1.5*Math.random()+.5),s()}var l=(new r.BufferGeometry).setFromPoints(n),d=(l.setAttribute("sizes",new r.Float32BufferAttribute(o,1)),l.setAttribute("shift",new r.Float32BufferAttribute(t,4)),new r.PointsMaterial({size:.125,transparent:!0,depthTest:!1,blending:r.AdditiveBlending,onBeforeCompile:function(t){t.uniforms.time=e.gu.time,t.vertexShader="\n\t\t\t\t\tuniform float time;\n\t\t\t\t\tattribute float sizes;\n\t\t\t\t\tattribute vec4 shift;\n\t\t\t\t\tvarying vec3 vColor;\n\t\t\t\t\t".concat(t.vertexShader,"\n\t\t\t\t").replace("gl_PointSize = size;","gl_PointSize = size * sizes;").replace("#include <color_vertex>","#include <color_vertex>\n\t\t\t\t\t\tfloat d = length(abs(position) / vec3(40., 10., 40));\n\t\t\t\t\t\td = clamp(d, 0., 1.);\n\t\t\t\t\t\tvColor = mix(vec3(227., 155., 0.), vec3(100., 50., 255.), d) / 255.;\n\t\t\t\t\t").replace("#include <begin_vertex>","#include <begin_vertex>\n\t\t\t\t\t\tfloat t = time;\n\t\t\t\t\t\tfloat moveT = mod(shift.x + shift.z * t, PI2);\n\t\t\t\t\t\tfloat moveS = mod(shift.y + shift.z * t, PI2);\n\t\t\t\t\t\ttransformed += vec3(cos(moveS) * sin(moveT), cos(moveT), sin(moveS) * sin(moveT)) * shift.w;\n\t\t\t\t\t"),t.fragmentShader="\n\t\t\t\t\tvarying vec3 vColor;\n\t\t\t\t\t".concat(t.fragmentShader,"\n\t\t\t\t").replace("#include <clipping_planes_fragment>","#include <clipping_planes_fragment>\n\t\t\t\t\t\tfloat d = length(gl_PointCoord.xy - 0.5);\n\t\t\t\t\t").replace("vec4 diffuseColor = vec4( diffuse, opacity );","vec4 diffuseColor = vec4( vColor, smoothstep(0.5, 0.1, d) );")}}));this.points=new r.Points(l,d),this.points.rotation.order="ZYX",this.points.rotation.z=.2,this.scene.add(this.points)}},{key:"setupEventListeners",value:function(){var t=this;window.addEventListener("resize",function(){return t.handleResize()}),document.addEventListener(visibilityChangeEvent,this.handleVisibilityChange.bind(this))}},{key:"handleResize",value:function(){this.camera&&this.renderer&&(this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight))}},{key:"animate",value:function(){var t,e=this;this.scene&&this.camera&&this.renderer&&(this.animationFrame=requestAnimationFrame(function(){return e.animate()}),this.controls.update(),t=.5*this.clock.getElapsedTime(),this.gu.time.value=t*Math.PI,this.points&&(this.points.rotation.y=.05*t),this.renderer.render(this.scene,this.camera))}},{key:"handleVisibilityChange",value:function(){document[hiddenProperty]?this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=null):!this.animationFrame&&this.isInitialized&&this.animate()}},{key:"destroy",value:function(){var t=this;this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=null),window.removeEventListener("resize",function(){return t.handleResize()}),document.removeEventListener(visibilityChangeEvent,this.handleVisibilityChange.bind(this)),this.renderer&&this.renderer.dispose(),this.scene&&this.scene.clear()}}]))();function getMoveDirection(t,e,n,i){if(isPhone)return n=n-t,t=i-e,Math.abs(n)<2&&Math.abs(t)<2?DIRECTIONS.UNDIRECTED:-135<=(i=180*Math.atan2(t,n)/Math.PI)&&i<=-45?DIRECTIONS.UP:45<i&&i<135?DIRECTIONS.DOWN:135<=i&&i<=180||-180<=i&&i<-135?DIRECTIONS.LEFT:-45<=i&&i<=45?DIRECTIONS.RIGHT:DIRECTIONS.UNDIRECTED}function loadIntro(){document[hiddenProperty]||loadIntro.loaded||(setTimeout(function(){$(".wrap").classList.add("in"),setTimeout(function(){$(".content-subtitle").innerHTML="<span>".concat(_toConsumableArray(subtitle).join("</span><span>"),"</span>")},270)},0),loadIntro.loaded=!0)}function switchPage(){var t;switchPage.switched||((t={intro:$(".content-intro"),path:$(".shape-wrap path"),shape:$("svg.shape")}).shape.style.transformOrigin="50% 0%",anime({targets:t.intro,duration:1100,easing:"easeInOutSine",translateY:"-200vh"}),anime({targets:t.shape,scaleY:[{value:[.8,1.8],duration:550,easing:"easeInQuad"},{value:1,duration:550,easing:"easeOutQuad"}]}),anime({targets:t.path,duration:1100,easing:"easeOutQuad",d:t.path.getAttribute("pathdata:id"),complete:function(t){}}),switchPage.switched=!0)}function loadMain(){loadMain.loaded||(setTimeout(function(){$(".card-inner").classList.add("in");var t=document.getElementById("galaxyCanvas");t&&new GalaxyAnimation(t).init()},0),loadMain.loaded=!0)}function loadAll(){loadAll.loaded||(switchPage(),loadMain(),loadAll.loaded=!0)}window.hiddenProperty="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null,window.DIRECTIONS={UP:"UP",DOWN:"DOWN",LEFT:"LEFT",RIGHT:"RIGHT",UNDIRECTED:"UNDIRECTED"},window.isPhone=/Mobile|Android|iOS|iPhone|iPad|iPod|Windows Phone|KFAPWI/i.test(navigator.userAgent),window.visibilityChangeEvent=hiddenProperty.replace(/hidden/i,"visibilitychange"),window.addEventListener(visibilityChangeEvent,loadIntro),window.addEventListener("DOMContentLoaded",loadIntro);var enterEl=$(".enter");enterEl.addEventListener("click",loadAll),enterEl.addEventListener("touchenter",loadAll),document.body.addEventListener("mousewheel",loadAll,{passive:!0}),$(".arrow").addEventListener("mouseenter",loadAll),isPhone&&(document.addEventListener("touchstart",function(t){window.startx=t.touches[0].pageX,window.starty=t.touches[0].pageY},{passive:!0}),document.addEventListener("touchend",function(t){var e=t.changedTouches[0].pageX,t=t.changedTouches[0].pageY;getMoveDirection(startx,starty,e,t)===DIRECTIONS.UP&&loadAll()},{passive:!0}));